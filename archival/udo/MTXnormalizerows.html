<html>
<head>
<title>User-Defined Opcode Database</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<style>
pre { border: 1px solid gray; padding: 10px; background-color: #FEFEFF;}

</style>

</head>

<body>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
	<TR><TH COLSPAN="3" ALIGN="center">User-Defined Opcode Database</TH></TR>
</table>
<hr>
<h1>MTXnormalizerows</h1>
<p>Normalizes all rows in a matrix so the sum of each row is 1</p>
<a href="cache/MTXnormalizerows.udo">Download UDO File</a><h3>Description</h3>
<p>Normalizes all rows in a matrix so the sum of each row is 1</p>
<h3>Syntax</h3>
<p>idiscard <b>MTXnormalizerows</b> imtxnum</p>
<h3>Initialization</h3>
<p>idiscard- Discarded<br>imtxnum - ftable number of the matrix to be normalized.<br>This UDO is useful to normalize all rows in a MTX* matrix for use in probablilty settings like Markov chains.</p>
<h3>Code</h3>
<pre>	opcode MTXnormalizerows,i,i

imtxnum xin

icountx init 0
icounty init 0
icountz init 0

itotal init 0
isizex tablei 0, imtxnum
isizey tablei 1, imtxnum
isizez tablei 2, imtxnum
MTXnormalize:
ival tablei (icountz*isizex*isizey) + (icounty*isizex) + icountx + 3, imtxnum
itotal = itotal + ival

loop_lt icountx, 1, isizex, MTXnormalize
itotal = (itotal==0 ? 1: itotal)
vmult_i imtxnum, (1/itotal), isizex, 3 + (icountz*isizex*isizey) + (icounty*isizex)
icountx = 0
itotal = 0
loop_lt icounty, 1, isizey, MTXnormalize
icounty = 0
loop_lt icountz, 1, isizez, MTXnormalize

xout 0

	endop</pre>
<h3>Credits</h3>
<p>Andres Cabrera</p>
<hr>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="33%">
					<a href="displayOpcode.php?opcode_id=83">Previous</a>
			</td>
    <td width="33%" align="center"><a href="index.php">Home</a></td>
    <td width="33%" align="right">
					<a href="displayOpcode.php?opcode_id=86">Next</a>
			
	</td>
  </tr>
  <tr>
    <td width="33%">
		MTXinit	</td>
    <td width="33%" align="center">&nbsp;</td>
    <td width="33%" align="right">
		MTXset	</td>
  </tr>  
</table>
</body>
</html>
